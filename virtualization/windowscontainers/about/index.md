---
title: О контейнерах Windows
description: Дополнительные сведения о контейнерах Windows.
keywords: docker, контейнеры
author: taylorb-microsoft
ms.date: 05/02/2016
ms.topic: article
ms.prod: windows-containers
ms.service: windows-containers
ms.assetid: 8e273856-3620-4e58-9d1a-d1e06550448
ms.openlocfilehash: 5dcc2af869ba0433b1d755f6d70f5dae6e18cdc5
ms.sourcegitcommit: 4090d158dd3573ea90799de5b014c131a206b000
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/07/2018
ms.locfileid: "6121614"
---
# <a name="windows-containers"></a>Контейнеры Windows

## <a name="what-are-containers"></a>Что такое контейнеры?

Контейнеры— это способ разместить приложение в собственной изолированной «коробке». У приложения в контейнере нет сведений о других приложениях или процессах, размещенных за пределами этой «коробки». Все необходимое приложению для успешной работы также находится в этом контейнере.  Куда бы контейнер не переместить, приложение всегда будет работать, так как оно получит все необходимое для запуска.

Представьте себе кухню. Здесь мы размещаем все устройства и мебель, кастрюли и сковородки, моющее средство и полотенца. Это наш контейнер.

<center style="margin: 25px">![](media/box1.png)</center>

Теперь мы возьмем этот контейнер и поместим его в любую квартиру, при этом кухня никак не изменится. Нам нужно только подключить электричество и воду, и мы сразу сможем начать готовить (так как у нас есть все необходимые устройства).

<center style="margin: 25px">![](media/apartment.png)</center>

Контейнеры похожи на такую кухню. Могут существовать различные виды комнаты, а также множество комнат одного типа. Главное здесь— то, что контейнеры содержат все необходимое для приложения.

Краткий обзор приведен в видео [Контейнеры на основе Windows: разработка современных приложений с корпоративным уровнем управления](https://youtu.be/Ryx3o0rD5lY).

## <a name="container-fundamentals"></a>Принципы работы контейнера

Контейнеры— это изолированная и переносимая среда выполнения с контролируемыми ресурсами, которая работает на хост-компьютере или виртуальной машине. Приложения или процессы, которые запускаются в контейнере, поставляются вместе со всеми необходимыми компонентами и файлами конфигурации. Они не имеют представления о других процессах, выполняющихся вне контейнера.

Узел контейнера предоставляет набор ресурсов, и контейнер будет использовать только их. Контейнер считает, никаких других ресурсов не существует, что он был предоставил и таким образом контейнера не сенсорных ресурсы, которые подготовлены соседнему контейнеру.

При создании контейнеров Windows и последующей работе с ними пригодятся перечисленные ниже основные понятия.

**Узел контейнера.** Физический или виртуальный компьютер, настроенный для работы с контейнерами Windows. На узле контейнера работает один или несколько контейнеров Windows.

**Образ контейнера.** По мере того как в файловую систему или реестр контейнера вносятся изменения (например, при установке программного обеспечения), они регистрируются в "песочнице". Во многих случаях может потребоваться зарегистрировать это состояние, чтобы применить внесенные изменения при создании новых контейнеров. В этом и заключается суть образа:после остановки работы контейнера можно либо отключить "песочницу", либо преобразовать ее в новый образ контейнера. Предположим, например, что вы развернули контейнер в образе Windows Server Core. Затем вы устанавливаете в этот контейнер MySQL. Создание нового образа на базе этого контейнера будет происходить аналогично его развертыванию. Этот образ будет содержать только внесенные изменения (MySQL) и при этом работать в виде слоя поверх образа ОС контейнера.

**"Песочница".** После запуска контейнера все операции записи (изменения файловой системы и реестра либо установка программного обеспечения) регистрируются на уровне "песочницы".

**Образ ОС контейнера.** Контейнеры развертываются из образов. Образ ОС контейнера— это первый из возможного множества слоев образа, составляющих контейнер. Этот образ представляет собой среду операционной системы. Образ ОС контейнера невозможно изменить.

**Репозиторий контейнера.** При каждом создании образа контейнера этот образ и его зависимости сохраняются в локальном репозитории. Эти образы можно использовать повторно много раз на узле контейнера. Образы контейнеров также можно хранить в открытом или закрытом реестре (например, Docker Hub), чтобы использовать на многих других узлах контейнеров.

<center>![](media/containerfund.png)</center>

Всем, кто работал с виртуальными машинами, контейнеры могут показаться чем-то знакомым. Контейнер работает под управлением операционной системы и содержит файловую систему, к нему можно получить сетевой доступ, чем напоминает физический или виртуальный компьютер. При этом у контейнеров и виртуальных машин совершенно разные технология и принцип работы.

Марк Руссинович (Mark Russinovich), гуру Microsoft Azure, написал [прекрасную статью в блоге](https://azure.microsoft.com/en-us/blog/containers-docker-windows-and-trends/), в которой подробно описаны различия.

## <a name="windows-container-types"></a>Типы контейнеров Windows

Контейнеры Windows делятся на два типа (бывают две среды выполнения).

**Контейнеры Windows Server** — обеспечивают изоляцию приложений благодаря изоляции процессов и пространств имен. Контейнер Windows Server использует ядро совместно с узлом контейнера и всеми остальными контейнерами на этом узле. Эти контейнеры не обеспечивают защиту от неблагоприятных сред, поэтому их не следует использовать для изоляции ненадежного кода. Из-за общего пространства ядра для этих контейнеров требуется одинаковая версия и конфигурация ядра.

**Изоляция Hyper-V** — открывает более широкие возможности изоляции по сравнению с контейнерами Windows Server, так как каждый контейнер запускается в виртуальной машине с высоким уровнем оптимизации. В этой конфигурации ядро узла контейнера не используется совместно с другими контейнерами на том же узле. Эти контейнеры предназначены для неблагоприятных сред с несколькими арендаторами и обеспечивают уровень безопасности, аналогичный уровню защиты, обеспечиваемой виртуальной машиной. Так как эти контейнеры не используют то же ядро, что и узел или другие контейнеры в узле, они могут запускать ядра с другими версиями и конфигурациями (в поддерживаемых версиях). Например, все контейнеры Windows в Windows 10 используют изоляцию Hyper-V, чтобы применять версию ядра и конфигурацию Windows Server.

Решение о запуске контейнера в Windows с изоляцией Hyper-V или без нее принимается во время выполнения. Вы можете изначально создать контейнер с изоляцией Hyper-V, а затем во время выполнения запустить его как контейнер Windows Server.

## <a name="what-is-docker"></a>Что такое Docker?

Читая о контейнерах, вы неизбежно услышите о Docker. Docker— это среда для создания и доставки пакетов образов контейнеров. Этот автоматический процесс создает образы (т. е. шаблоны), которые затем можно запускать в любом месте — в локальной среде, в облаке или на персональном компьютере — в виде контейнера.

<center>![](media/docker.png)</center>

Контейнерами Windows Server, как и любыми другими, можно управлять с помощью [Docker](https://www.docker.com).

## <a name="containers-for-developers"></a>Контейнеры для разработчиков ##

Образ Docker можно создать где угодно, начиная с компьютера разработчика и заканчивая тестовыми и рабочими компьютерами. При этом его развертывание в любой среде будет выполнено одинаково и за считанные секунды. Благодаря этому появилась развитая и расширяющаяся экосистема приложений, запакованных в контейнеры Docker. При этом в общедоступных репозиториях Docker Hub, открытого реестра контейнерных приложений, который Docker обслуживает, в настоящее время опубликовано более 180000приложений.

Когда вы упаковываете приложение, образ содержит только само приложение и компоненты, необходимые для его запуска. При необходимости на базе этого образа создаются контейнеры. Кроме того, образ можно создать на основе другого образа, что еще более ускоряет рабочий процесс. Один и тот же образ могут использовать несколько контейнеров, что ускорит их запуск и снизит количество необходимых для этого ресурсов. Например, с помощью контейнеров можно выполнить развертывание облегченных и переносимых компонентов приложений (микрослужб) для распределенных приложений, а также быстрое масштабирование каждой такой службы отдельно.

Так как контейнер содержит все необходимое для запуска приложения, он отличается высокой переносимостью и может запускаться на любом компьютере под управлением Windows Server 2016. Можно создать и протестировать контейнер локально, а затем развернуть образ этого контейнера на сервере поставщика услуг, а также в частном или общедоступном облаке компании. Адаптивность контейнеров позволяет использовать современные модели разработки приложений в крупномасштабных, виртуализированных и облачных средах.

С помощью контейнеров разработчики могут создать приложение на любом языке. Такие полностью переносимые приложения можно запускать где угодно (на ноутбуке, настольном компьютере, сервере, в частном и общедоступном облаке или у поставщика услуг) без необходимости изменения кода.  

Контейнеры помогают разработчикам быстрее создавать и поставлять высококачественные приложения.

## <a name="containers-for-it-professionals"></a>Контейнеры для ИТ-специалистов ##

Благодаря использованию контейнеров рабочим группам по разработке и контролю качества, а также технологическому отделу доступны стандартизированные среды. Следовательно, этим ИТ-специалистам не нужно выполнять сложные шаги по установке и настройке. При использовании контейнеров системные администраторы не должны учитывать различия в установленных операционных системах и особенности базовых инфраструктур.

С помощью контейнеров администраторы могут создавать инфраструктуру, которую проще обновлять и обслуживать.

## <a name="container-orchestrators"></a>Оркестраторы контейнера
Благодаря малому размеру и ориентированности на приложение контейнеры удобно применять в средах с гибкой настройкой доставки и архитектурах, основанных на микрослужбах. Однако, при использовании контейнеров и микрослужб вы можете внедрить в свою среду сотни и тысячи компонентов.  Вы можете вручную управлять несколькими десятками виртуальных машин и физических серверов, но не существует способа управления средой контейнеров промышленного масштаба без средств автоматизации.  Автоматизация большого количества контейнеров и управление ими, а также их взаимодействиями называется оркестрацией. 

Стандартное определение оркестрации включает следующие задачи.

- Планирование: поиск подходящего компьютера для запуска контейнера с учетом образа контейнера и запроса на ресурс.
Сходство или удаление сходства: указать, что контейнеры в наборе должны запускаться рядом друг с другом (для повышения производительности) или достаточно далеко друг от друга (для обеспечения доступности).
- Наблюдение за работоспособностью: отслеживание сбоев контейнера и автоматическое изменение расписания для него.
- Отработка отказа: отслеживание запущенных задач на каждой машине и переназначение контейнеров с машин, на которых возник сбой, на работоспособные узлы.
- Масштабирование: добавление или удаление экземпляров контейнера для соответствия запросу (ручное или автоматическое).
- Сеть: предоставление сети наложения для координации контейнеров при обмене данными между несколькими хост-машинами.
- Обнаружение служб: обеспечение автоматической локализации контейнеров даже при перемещении между хост-машинами и изменении IP-адреса.
- Координация обновления приложений: управление обновлениями контейнера во избежание простоев и откат до предыдущей версии в случае сбоя.

Azure предлагает два оркестратора контейнеров: служба контейнеров Azure (AKS) и Service Fabric.

[Служба контейнеров Azure (AKS)](/azure/aks/) упрощает создание, настройку кластеров виртуальных машин, подготовленных для запуска приложений в контейнерах, и управление ими. Таким образом вы можете применить существующие навыки или воспользоваться огромным пластом информации, представленным в сообществе, чтобы развертывать контейнерные приложения на Microsoft Azure и управлять ими. Благодаря AKS можно воспользоваться преимуществами корпоративного уровня Azure, сохраняя при этом возможность переноса приложений через Kubernetes и формат образов Docker.

[Azure Service Fabric](/azure/service-fabric/) — это платформа распределенных систем, которая упрощает упаковку, развертывание надежных масштабируемых микрослужб и контейнеров и управление ими. Решение Service Fabric позволяет преодолеть существенные трудности при разработке облачных приложений и управлении ими. Благодаря данному решению разработчики и администраторы могут избежать проблем со сложной инфраструктурой и сосредоточиться на решении критически важных, ресурсоемких задач, которые характеризуются масштабируемостью, достоверностью и управляемостью. Service Fabric представляет собой платформу следующего поколения, предназначенную для построения облачных контейнерных приложений корпоративного класса уровня 1 и управления ими.

## <a name="video-overview"></a>Видеообзор

<iframe src="https://channel9.msdn.com/Blogs/containers/Containers-101-with-Microsoft-and-Docker/player" width="800" height="450" allowFullScreen="true" frameBorder="0" scrolling="no"></iframe>

## <a name="try-windows-server-containers"></a>Попробуйте контейнеры Windows Server

Готовы воспользоваться всеми преимуществами контейнеров? Перейдите по ссылкам ниже, чтобы получить инструкции по развертыванию вашего первого контейнера: <br/>
Для пользователей Windows Server: перейдите по ссылке [Краткое руководство для Windows Server](../quick-start/quick-start-windows-server.md). <br/>
Для пользователей Windows 10: перейдите по ссылке [Краткое руководство для Windows 10](../quick-start/quick-start-windows-10.md).

