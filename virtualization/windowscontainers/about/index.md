---
title: О контейнерах Windows
description: Контейнеры — это технология упаковки и запуска приложений, включая приложения Windows, в различных локальных средах и в облаке. В этом разделе описывается, как Microsoft, Windows и Azure помогают разрабатывать и развертывать приложения в контейнерах, включая использование Docker и службы Kubernetes в Azure.
keywords: docker, контейнеры
author: taylorb-microsoft
ms.date: 10/22/2019
ms.topic: article
ms.prod: windows-containers
ms.service: windows-containers
ms.assetid: 8e273856-3620-4e58-9d1a-d1e06550448
ms.openlocfilehash: 4fad299db2c897a6be860ef0cc71e80969c75357
ms.sourcegitcommit: 8dedb887b038fbff872327f51c7416454b301b86
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/06/2019
ms.locfileid: "74909414"
---
# <a name="windows-and-containers"></a>Windows и контейнеры

Контейнеры — это технология упаковки и запуска приложений Windows и Linux в различных локальных средах и в облаке. Контейнеры предоставляют нетребовательную к ресурсам изолированную среду, которая упрощает разработку, развертывание и управление приложениями. Контейнеры быстро запускаются и останавливаются, что делает их идеальными для приложений, которые нужно быстро адаптировать в условиях изменяющегося спроса. Упрощенная природа контейнеров также делает их полезным инструментом для повышения плотности и использования инфраструктуры.

![График, показывающий, как контейнеры могут работать в облаке или в локальной среде, поддерживающей монолитные приложения или микрослужбы, написанные практически на любом языке.](media/about-3-box.png)

## <a name="the-microsoft-container-ecosystem"></a>Экосистема контейнеров Майкрософт

Корпорация Майкрософт предоставляет ряд средств и платформ, помогающих разрабатывать и развертывать приложения в контейнерах.

- <strong>Запускайте контейнеры под управлением Windows или Linux в среде Windows 10</strong> для разработки и тестирования с помощью [Docker Desktop](https://store.docker.com/editions/community/docker-ce-desktop-windows), который использует встроенные функции контейнеров Windows. Можно также [выполнять контейнеры с помощью встроенных подсистем Windows Server](../quick-start/set-up-environment.md?tabs=Windows-Server).
- <strong>Разрабатывайте, тестируйте, публикуйте и развертывайте контейнеры на основе Windows</strong> используя [комплексную поддержку контейнеров в Visual Studio](https://docs.microsoft.com/visualstudio/containers/overview) и [Visual Studio Code](https://code.visualstudio.com/docs/azure/docker), которые включают поддержку Docker, Docker Compose, Kubernetes, Helm и других полезных технологий.
- <strong>Публикуйте свои приложения как образы контейнеров</strong>, сделав их общедоступными на DockerHub для использования другими пользователями или в частном [реестре контейнеров Azure](https://azure.microsoft.com/services/container-registry/) для собственной разработки и развертывания вашей организации, отправляя и получая их непосредственно в Visual Studio и Visual Studio Code.
- <strong>Развертывание контейнеров в Azure</strong> или других облаках:

  - Извлекайте свое приложение (образ контейнера) из реестра контейнеров, например реестра контейнеров Azure, а затем развертывайте его и управляйте им с помощью оркестратора, например [Azure Kubernetes Service (AKS)](https://docs.microsoft.com/azure/aks/intro-kubernetes) (в предварительной версии для приложений на основе Windows) или [Azure Service Fabric](https://docs.microsoft.com/azure/service-fabric/).
  - Служба Azure Kubernetes развертывает контейнеры на виртуальных машинах Azure и управляет ими при любом масштабе, будь то десятки контейнеров, сотни или даже тысячи. Виртуальные машины Azure запускают настроенный образ Windows Server (при развертывании приложения на основе Windows) или настраиваемый образ Ubuntu Linux (при развертывании приложения на основе Linux).
- <strong>Развертывайте контейнеры локально</strong> с помощью [Azure Stack с обработчиком AKS](https://docs.microsoft.com/azure-stack/user/azure-stack-kubernetes-aks-engine-overview) (в предварительной версии с контейнерами Linux) или [Azure Stack с OpenShift](https://docs.microsoft.com/azure/virtual-machines/linux/openshift-azure-stack). Вы также можете самостоятельно настроить Kubernetes в Windows Server (см. [Kubernetes в Windows](../kubernetes/getting-started-kubernetes-windows.md)); мы работаем над поддержкой запуска контейнеров Windows [на платформе контейнеров RedHat OpenShift](https://techcommunity.microsoft.com/t5/Networking-Blog/Managing-Windows-containers-with-Red-Hat-OpenShift-Container/ba-p/339821).

## <a name="how-containers-work"></a>Как работают контейнеры

Контейнер — это изолированный, нетребовательный к ресурсам приемник команд, предназначенный для запуска приложения в операционной системе сервера. Контейнеры создаются на основе ядра операционной системы сервера (которое можно рассматривать как скрытые подсистемы операционной системы), как показано на этой схеме.

![Схема архитектуры, показывающая, как контейнеры работают поверх ядра](media/container-diagram.svg)

Хотя контейнер использует ядро операционной системы сервера, контейнер не получает неограниченный доступ к ядру. Вместо этого контейнер получает изолированное, а в некоторых случаях виртуализированное, представление системы. Например, контейнер может обращаться к виртуализированной версии файловой системы и реестра, но любые изменения затрагивают только контейнер и удаляются при его остановке. Чтобы сохранить данные, контейнер может подключить постоянное хранилище, например [диск Azure](https://azure.microsoft.com/services/storage/disks/) или общую папку (в том числе [файлы Azure](https://azure.microsoft.com/services/storage/files/)).

Контейнер собирается поверх ядра, но ядро не предоставляет все интерфейсы API и службы, необходимые для запуска приложения. Большинство из них предоставляются системными файлами (библиотеками), которые работают на уровне выше ядра в пользовательском режиме. Поскольку контейнер изолирован от среды пользовательского режима сервера, контейнеру требуется собственная копия этих системных файлов пользовательского режима, которые упаковываются в базовый образ. Базовый образ выступает в качестве основного уровня, на котором собирается контейнер, предоставляя ему службы операционной системы, не предоставляемые ядром. Но подробнее о контейнерах мы поговорим дальше.

## <a name="containers-vs-virtual-machines"></a>Контейнеры и виртуальные машины

В отличие от контейнера, виртуальная машина (ВМ) работает под управлением полноценной операционной системы, включая ее собственное ядро, как показано на этой схеме.

![Схема архитектуры, показывающая, работу полноценной операционной системы в ВМ наряду с операционной системой сервера](media/virtual-machine-diagram.svg)

Контейнеры и виртуальные машины имеют свои преимущества: на самом деле многие среды контейнеров используют виртуальные машины в качестве операционной системы сервера, а не работают непосредственно на оборудовании, в частности при работе с контейнерами в облаке.

Дополнительные сведения о сходствах и различиях этих взаимно дополняющих технологий см. в статье [Контейнеры и виртуальные машины](containers-vs-vm.md).

## <a name="container-images"></a>Образы контейнеров

Все контейнеры создаются из образов контейнеров. Образы контейнеров представляют собой набор файлов, организованных в стек слоев, расположенных на локальном компьютере или в удаленном реестре контейнеров. Образ контейнера состоит из файлов операционной системы пользовательского режима, необходимых для поддержки приложения, вашего приложения, любых сред выполнения или зависимостей приложения, а также любого другого файла конфигурации, необходимого для правильной работы приложения.

Корпорация Майкрософт предлагает несколько образов (называемых основными образами), которые можно использовать в качестве отправной точки при создании собственного образа контейнера.

* <strong>Windows</strong> — содержит полный набор API-интерфейсов Windows и системных служб (за исключением ролей сервера).
* <strong>Windows Server Core</strong> — образ меньшего размера, который содержит подмножество API-интерфейсов Windows Server (.NET Framework полностью). Он также включает в себя большинство серверных ролей, за исключением роли сервера факсов.
* <strong>Nano Server</strong> — самый маленький образ Windows Server с поддержкой интерфейсов API .NET Core и некоторых ролей сервера.
* <strong>Windows 10 IoT Core</strong> — версия Windows, используемая производителями оборудования для небольших устройств Интернета вещей под управлением процессоров с архитектурой ARM или x86/x64.

Как упоминалось ранее, образы контейнеров образованы рядом слоев. Каждый слой содержит набор файлов, которые при наложении вместе составляют образ контейнера. Из-за многоуровневой природы контейнеров для создания контейнера Windows не нужно всегда ориентироваться на базовый образ. Вместо этого можно выбрать другой образ, который уже содержит нужную платформу. Например, команда .NET публикует [образ .NET Core](https://hub.docker.com/_/microsoft-dotnet-core), который содержит среду выполнения .NET Core. Таким образом пользователи избавляются от необходимости дублировать процесс установки .NET Core, а также получают возможность повторно использовать слои этого образа контейнера. Образ .NET Core собран на основе образа Nano Server.

Дополнительные сведения см. в разделе [Базовые образы контейнеров](../manage-containers/container-base-images.md).

## <a name="container-users"></a>Пользователи контейнеров

### <a name="containers-for-developers"></a>Контейнеры для разработчиков

Контейнеры помогают разработчикам быстрее создавать и поставлять высококачественные приложения. С помощью контейнеров разработчики могут создавать образы контейнеров, которые одинаково развертываются в разных средах за считанные секунды. Контейнеры служат простым механизмом совместного использования кода в группах и позволяют обеспечить начальную загрузку среды разработки, не затрагивая файловую систему сервера.

Контейнеры являются переносимыми и универсальными, позволяют запускать приложения, написанные на любом языке, и совместимы с любыми компьютерами под управлением Windows 10 версии 1607 или более поздней, или Windows Server 2016 или более поздней версии. Разработчики могут создать и протестировать контейнер локально на своем ноутбуке или настольном компьютере, а затем развернуть этот образ контейнера в частном или общедоступном облаке или у поставщика услуг. Адаптивность контейнеров позволяет использовать современные модели разработки приложений в крупномасштабных, виртуализированных и облачных средах.

### <a name="containers-for-it-professionals"></a>Контейнеры для ИТ-специалистов

Контейнеры помогают администраторам создавать инфраструктуру, которую проще обновлять и обслуживать, а это позволяет более полно использовать аппаратные ресурсы. Благодаря использованию контейнеров рабочим группам по разработке и контролю качества, а также технологическому отделу доступны стандартизированные среды. При использовании контейнеров системные администраторы не должны учитывать различия в установленных операционных системах и особенности базовых инфраструктур.

## <a name="container-orchestration"></a>Оркестрация контейнеров

Оркестрация является важнейшим элементом инфраструктуры при настройке среды на основе контейнеров. Хотя несколькими контейнерами можно управлять вручную с помощью Docker и Windows, приложения часто используют пять, десять или даже сотни контейнеров, когда оркестрация уже неизбежна.

Оркестраторы контейнеров созданы для упрощения управления контейнерами при изменении масштаба и в рабочей среде. Оркестрация предоставляет следующие функциональные возможности:

- развертывание при любом масштабе;
- планирование рабочей нагрузки;
- Наблюдение за работоспособностью
- отработка отказов при сбое сервера;
- увеличение или уменьшение масштаба;
- Сеть
- обнаружение служб;
- координирования обновления приложений;
- единообразие узлов кластера.

Существует множество различных оркестраторов, которые можно использовать с контейнерами Windows. Ниже приведены варианты, предоставляемые корпорацией Майкрософт.
- [Azure Kubernetes Service (AKS)](https://docs.microsoft.com/azure/aks/intro-kubernetes) — использование управляемой службы Azure Kubernetes
- [Azure Service Fabric](https://docs.microsoft.com/azure/service-fabric/) — использование управляемой службы
- [Azure Stack с ядром AKS](https://docs.microsoft.com/azure-stack/user/azure-stack-kubernetes-aks-engine-overview) — использование локальной службы Azure Kubernetes
- [Kubernetes в Windows](../kubernetes/getting-started-kubernetes-windows.md) — самостоятельная настройка Kubernetes в Windows.

## <a name="try-containers-on-windows"></a>Попробуйте контейнеры в Windows

Чтобы приступить к работе с контейнерами в Windows Server или Windows 10, см. следующие сведения:
> [!div class="nextstepaction"]
> [Начало работы: настройка среды для контейнеров](../quick-start/set-up-environment.md)

Дополнительные сведения о том, какие службы Azure доступны для вашего сценария, см. в статьях [Службы контейнеров Azure](https://azure.microsoft.com/product-categories/containers/) и [Выбор служб Azure, которые будут использоваться для размещения приложений](https://docs.microsoft.com/azure/architecture/guide/technology-choices/compute-decision-tree).
