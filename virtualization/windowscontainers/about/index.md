---
title: О контейнерах Windows
description: Контейнеры — это технология для упаковки и запуска приложений, включая приложения для Windows — в локальной среде и в облаке. В этой статье рассказывается о том, как Microsoft, Windows и Azure помогает разрабатывать и развертывать приложения в контейнерах, в том числе в службе Docking и Azure Кубернетес Service.
keywords: docker, контейнеры
author: taylorb-microsoft
ms.date: 10/22/2019
ms.topic: article
ms.prod: windows-containers
ms.service: windows-containers
ms.assetid: 8e273856-3620-4e58-9d1a-d1e06550448
ms.openlocfilehash: acce214cc8991f20c979b6dbe636590416841cb9
ms.sourcegitcommit: d0411b05d1ef7328a770766b84fd0743f9d9c237
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/23/2019
ms.locfileid: "10254294"
---
# <a name="windows-and-containers"></a>Окна и контейнеры

Контейнеры — это технология для упаковки и запуска приложений для Windows и Linux в разных средах на локальном уровне и в облаке. Контейнеры предоставляют упрощенную изолированную среду, которая упрощает разработку, развертывание и Управление приложениями. Контейнеры запускаются быстро и прекращаются, благодаря чему они идеальны для приложений, которые должны быстро адаптироваться к изменяющимся спросу. Упрощенная природа контейнеров также является полезным средством для повышения плотности и использования инфраструктуры.

![Графический объект, показывающий, как контейнеры могут работать в облаке или локально, поддерживающих монолитные приложения или микрослужбы, написанные практически на любом языке.](media/about-3-box.png)

## <a name="the-microsoft-container-ecosystem"></a>Microsoft Container экосистема

Корпорация Майкрософт предоставляет ряд инструментов и платформ, которые помогут вам разрабатывать и развертывать приложения в контейнерах:

- <strong>Работа с контейнерами на базе Windows или Linux в Windows 10</strong> для разработки и тестирования с помощью [классического приложения Dock](https://store.docker.com/editions/community/docker-ce-desktop-windows), в котором используются функции контейнеров, встроенные в Windows. Вы также можете [запускать контейнеры на собственном сервере Windows Server](../quick-start/set-up-environment.md?tabs=Windows-Server).
- <strong>Создавайте, тестируйте, публикуйте и развертывайте контейнеры на базе Windows</strong> с помощью [мощной поддержки контейнеров в Visual Studio](https://docs.microsoft.com/visualstudio/containers/overview) и [Visual Studio](https://code.visualstudio.com/docs/azure/docker), в том есть поддержка Dock, создание дока, кубернетес, Хелм и другие полезные функции. технологии.
- <strong>Публикация приложений в виде изображений-контейнеров</strong> в общедоступных доккерхубах или в частном [контейнере контейнера Azure](https://azure.microsoft.com/services/container-registry/) для собственной разработки и развертывания, помещаете и изменяйте их непосредственно в Visual Studio и Visual Studio. .
- <strong>Развертывание контейнеров на уровне "Масштаб" в Azure</strong> или других облаках:

  - Затяните приложение (контейнерный образ) из реестра контейнера, например реестра Azure, а затем развертывайте его и управляйте им на шкале с помощью Orchestrator, например [службы Azure Кубернетес Service (АКС)](https://docs.microsoft.com/azure/aks/intro-kubernetes) (в предварительной версии приложений для Windows) или [службе Azure. Fabric](https://docs.microsoft.com/azure/service-fabric/).
  - Служба Azure Кубернетес развертывает контейнеры на виртуальных машинах Azure и управляет ими на уровне масштабов, будь то десятки контейнеров, сотни или даже тысячи. Виртуальные машины Azure выполняют либо настроенный образ Windows Server (если вы развертываете приложение для Windows), либо настраиваемый образ Ubuntu Linux (если вы разворачиваете приложение на основе Linux).
- <strong>Развертывание контейнеров в локальной среде</strong> с помощью [стека Azure с ядром АКС](https://docs.microsoft.com/azure-stack/user/azure-stack-kubernetes-aks-engine-overview) (в предварительной версии с контейнерами Linux) или в [стеке Azure с опеншифт](https://docs.microsoft.com/azure/virtual-machines/linux/openshift-azure-stack). Вы также можете настроить Кубернетес самостоятельно в Windows Server (см [кубернетес в Windows](../kubernetes/getting-started-kubernetes-windows.md)), а также в поддержке для работы [контейнеров Windows на платформе RedHat опеншифт](https://techcommunity.microsoft.com/t5/Networking-Blog/Managing-Windows-containers-with-Red-Hat-OpenShift-Container/ba-p/339821) .

## <a name="how-containers-work"></a>Работа контейнеров

Контейнер — это изолированный, Облегченный приемник для запуска приложения в операционной системе узла. Контейнеры, появляющиеся на вершине ядра операционной системы хоста (это можно рассматривать как скрытая система операционной системы), как показано на этой схеме.

![Архитектурная схема, показывающая, как контейнеры работают на вершине ядра](media/container-diagram.svg)

Несмотря на то, что контейнер использует ядро операционной системы хоста, контейнер не получает доступ к унфеттеред. Вместо этого контейнер получает изолированный объект — и, в некоторых случаях, виртуализованный — представление системы. Например, контейнер может получить доступ к виртуализированной версии файловой системы и реестра, но любые изменения влияют только на контейнер и удаляются при остановке. Чтобы сохранить данные, контейнер может подключить устойчивое хранилище, например [диск Azure](https://azure.microsoft.com/services/storage/disks/) или общую файловую информацию (включая [файлы Azure](https://azure.microsoft.com/services/storage/files/)).

Контейнер строится на вершине ядра, но ядро не предоставляет все API и службы, необходимые приложению, и большинство из них предоставляются системными файлами (библиотеками), которые выполняются над ядром в пользовательском режиме. Поскольку контейнер изолирован от среды пользовательского режима хоста, контейнер должен иметь собственную копию этих системных файлов пользовательского режима, которые упакованы в объект, который называется базовым изображением. Основной образ выступает в качестве основы для создания контейнера и предоставления его службам операционной системы, не предоставляемым ядром. Но мы поговорим больше о изображениях контейнеров позже.

## <a name="containers-vs-virtual-machines"></a>Контейнеры и виртуальные машины

В отличие от контейнера, виртуальная машина (ВМ) запускает полную операционную систему, в том числе на ее собственный, как показано на этой схеме.

![Архитектурная схема, показывающая, как виртуальные машины выполняют полную операционную систему рядом с операционной системой узла.](media/virtual-machine-diagram.svg)

Для контейнеров и виртуальных машин используются виртуальные машины в качестве операционной системы узла, а не непосредственно на оборудовании, особенно при запуске контейнеров в облаке.

Более подробную информацию о сходствах и различиях этих комплементарных технологий можно найти в разделе [контейнеры и виртуальные машины](containers-vs-vm.md).

## <a name="container-images"></a>Изображения контейнера

Все контейнеры создаются из изображений контейнера. Изображения-контейнеры — это набор файлов, организованных в стопку слоев, расположенных на локальном компьютере или в реестре удаленных контейнеров. Изображение контейнера состоит из файлов операционной системы пользовательского режима, необходимых для поддержки приложения, приложения, любых сред выполнения или зависимостей вашего приложения, а также любого другого файла конфигурации, который приложение должно запускать надлежащим образом.

Корпорация Майкрософт предложит несколько изображений (называемых основными изображениями), которые можно использовать в качестве отправной точки для создания собственного изображения контейнера.

* <strong>Windows</strong> — включает полный набор API и системных служб Windows (за исключением ролей сервера).
* <strong>Windows Server Core</strong> — более мелкий образ, содержащий подмножество API Windows Server — полностью .NET Framework. Кроме того, он включает большинство серверных ролей, но увы, а не на Факс Server.
* <strong>Nano Server</strong> — это самый маленький образ Windows Server с поддержкой основных API .NET и некоторых ролей сервера.
* <strong>Windows 10 IOT базовая</strong> — версия Windows, используемая изготовителями оборудования для небольших Интернет-устройств, которые работают на процессорах ARM или x86/x64.

Как упоминалось ранее, изображения контейнера состоят из ряда слоев. Каждый слой имеет набор файлов, которые, при наложении вместе, представляют собой изображение контейнера. Из-за многоуровневой природы контейнеров вам не нужно всегда нацелить базовое изображение для создания контейнера Windows. Вместо этого вы можете выбрать другое изображение, которое уже содержит нужную платформу. Например, команда .NET публикует [образ основного образа .NET](https://hub.docker.com/_/microsoft-dotnet-core) , который содержит среду выполнения .NET Core. Это позволяет избежать необходимости дублировать процесс установки .NET Core — вместо этого они могут повторно использовать слои этого изображения-контейнера. Основной образ .NET строится на основе сервера Nano Server.

Дополнительные сведения можно найти в разделе [основные образы контейнера](../manage-containers/container-base-images.md).

## <a name="container-users"></a>Пользователи контейнера

### <a name="containers-for-developers"></a>Контейнеры для разработчиков

Контейнеры помогают разработчикам создавать и отставлять более качественные приложения, быстрее. С помощью контейнеров разработчики могут создать изображение контейнера, которое развертывается за считанные секунды, одинаково в разных средах. Контейнеры служат простым механизмом совместного использования кода в Teams и для начальной загрузки среды разработки без воздействия на файловую систему узла.

Контейнеры — это переносимые и универсальные, могут запускать приложения, написанные на любом языке, и совместимы с любым компьютером под управлением Windows 10, версии 1607 или более поздней или Windows 2016 или более поздней версии. Разработчики могут создавать и тестировать контейнеры локально на своем ноутбуке или настольном компьютере, а затем развертывать этот же контейнер на частном облаке компании, в общедоступном облаке или в поставщике услуг. Естественная гибкость контейнеров поддерживает современные шаблоны разработки приложений в крупномасштабных виртуализованных облачных средах.

### <a name="containers-for-it-professionals"></a>Контейнеры для ИТ-специалистов

Контейнеры помогают администраторам создавать инфраструктуру, которую проще обновлять и обслуживать, и в более полной мере использует аппаратные ресурсы. ИТ-специалисты могут использовать контейнеры для предоставления стандартизированных сред для разработки, контроля качества и производственных групп. Используя контейнеры, системные администраторы могут выбросить различия в установке операционной системы и базовой инфраструктуре.

## <a name="container-orchestration"></a>Гармоничное взаимодействие с контейнерами

При настройке среды, основанной на контейнере, оркестрации — это важный компонент инфраструктуры. Несмотря на то, что вы можете управлять несколькими контейнерами вручную с помощью дока и окон, в приложениях часто используются пять, десять и даже сотни контейнеров, в которых поступают системы оркестрации.

Встроены оркестрации, помогающие управлять контейнерами в масштабе и в производстве. Функциональные возможности, предоставляемые оркестрации для:

- Развертывание в масштабе
- Планирование рабочей нагрузки
- Мониторинг работоспособности
- Сбой в случае сбоя узла
- Масштабирование вверх или вниз
- Сеть
- Обнаружение служб
- Обновление приложений для координирования
- Сходство узлов кластера

Существует множество различных orchestrations, которые можно использовать с контейнерами Windows. Ниже приведен список вариантов, предоставляемых корпорацией Майкрософт.
- [Служба Azure Кубернетес Service (АКС)](https://docs.microsoft.com/azure/aks/intro-kubernetes) — использование управляемой службы кубернетес Azure
- [Фабрика служб Azure](https://docs.microsoft.com/azure/service-fabric/) — использование управляемой службы
- [Стек Azure с ЯДРОМ АКС](https://docs.microsoft.com/azure-stack/user/azure-stack-kubernetes-aks-engine-overview) : использование службы Azure кубернетес в локальной среде
- [Кубернетес в Windows](../kubernetes/getting-started-kubernetes-windows.md) — настройте кубернетес себя в Windows

## <a name="try-containers-on-windows"></a>Контейнеры для попыток в Windows

Чтобы приступить к работе с контейнерами на Windows Server или Windows 10, ознакомьтесь со статьей ниже.
> [!div class="nextstepaction"]
> [Начало работы: Настройка среды для контейнеров](../quick-start/set-up-environment.md)

Чтобы узнать, какие службы Azure предназначены для вашего сценария, ознакомьтесь со [службами контейнеров Azure](https://azure.microsoft.com/product-categories/containers/) и [выберите службы Azure, которые будут использоваться для размещения вашего приложения](https://docs.microsoft.com/azure/architecture/guide/technology-choices/compute-decision-tree).
