---
title: Kubernetes в Windows
author: gkudra-msft
ms.author: gekudray
ms.date: 02/09/2018
ms.topic: get-started-article
ms.prod: containers
description: Присоединение узла Windows к кластеру Кубернетес с v 1.14.
keywords: кубернетес, 1,14, Windows, Приступая к работе
ms.assetid: 3b05d2c2-4b9b-42b4-a61b-702df35f5b17
ms.openlocfilehash: 18734f102042ec951255061dcd82229e18d29a15
ms.sourcegitcommit: cdf127747cfcb839a8abf50a173e628dcfee02db
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2019
ms.locfileid: "9998391"
---
# <a name="kubernetes-on-windows"></a>Kubernetes в Windows

Эта страница служит обзором для начала работы с Кубернетес в Windows путем присоединения узлов Windows к кластеру на базе Linux. С выпуском Кубернетес 1,14 в Windows Server [версии 1809](https://docs.microsoft.com/windows-server/get-started/whats-new-in-windows-server-1809#container-networking-with-kubernetes)пользователи могут воспользоваться следующими возможностями в Кубернетес на Windows:

- **наложение сетей**: использование фланнел в режиме вкслан для настройки сети виртуального оверлея
    - требуется Windows Server 2019 с установленной [KB4489899](https://support.microsoft.com/help/4489899) или [Windows Server Внекст](https://blogs.windows.com/windowsexperience/tag/windows-insider-program/) предварительной версии сборки 18317 +
    - требуется Кубернетес v 1.14 (или более поздней `WinOverlay` версии) с включенным шлюзом функций
    - требуется Фланнел v 0.11.0 (или более поздней версии)
- **упрощенное управление сетью**: используйте фланнел в режиме host-Gateway для автоматического управления маршрутами между узлами.
- **улучшенные возможности масштабирования**: Работайте быстрее и более надежным для начала работы с контейнерами, благодаря тому что [Вникс для контейнеров Windows Server](https://techcommunity.microsoft.com/t5/Networking-Blog/Network-start-up-and-performance-improvements-in-Windows-10/ba-p/339716).
- **Изоляция Hyper-v (альфа)**: защита [изоляции Hyper-v](https://kubernetes.io/docs/getting-started-guides/windows/#hyper-v-containers) с помощью изоляции режима ядра для усиления безопасности. Дополнительные сведения о [типах контейнеров Windows](https://docs.microsoft.com/virtualization/windowscontainers/about/#windows-container-types).
    - требуется Кубернетес v 1.10 (или более поздней `HyperVContainer` версии) с включенным шлюзом функций.
- **подключаемые модули хранилища**: использование [подключаемого модуля хранилища флексволуме](https://github.com/Microsoft/K8s-Storage-Plugins) с поддержкой протокола SMB и iSCSI для контейнеров Windows.

>[!TIP]
>Если вы хотите развернуть кластер в Azure, средство с открытым кодом АКС делает это очень просто. Дополнительные сведения можно найти в этом пошаговом [руководстве](https://github.com/Azure/aks-engine/blob/master/docs/topics/windows.md).

## <a name="prerequisites"></a>Что вам понадобится

### <a name="plan-ip-addressing-for-your-cluster"></a>Планирование IP-адресации для кластера

<a name="definitions"></a>Так как кластеры Кубернетес вводят новые подсети для существующих сред и служб, важно убедиться, что ни один из них не конфликтует с другими существующими сетями вашей среды. Ниже приведены все адресные пространства, которые должны быть освобождены для успешной развертки Кубернетес.

| Диапазон адресов или подсети | Описание | Значение по умолчанию |
| --------- | ------------- | ------------- |
| <a name="service-subnet-def"></a>**Подсеть службы** | Виртуальная подсеть без поддержки маршрутизации, используемая универсальной функцией доступа к службам, не уход о топологии сети. Она преобразуется в маршрутизируемое адресное пространство или из адресного пространства при выполнении `kube-proxy` на узлах. | "10.96.0.0/12" |
| <a name="cluster-subnet-def"></a>**Подсеть кластера** |  Это глобальная подсеть, используемая всеми универсальными пользователями в кластере. Каждому узлу для использования этих модулей используется не более 24 подсети. Оно должно быть достаточно большим, чтобы вместить все используемые в кластере обыкновенные работы. Чтобы вычислить *Минимальный* размер подсети: `(number of nodes) + (number of nodes * maximum pods per node that you configure)` <p/>Пример для кластера с 5 узлами для 100, на каждом узле `(5) + (5 *  100) = 505`:.  | "10.244.0.0/16" |
| **IP-адрес службы DNS кубернетес** | IP-адрес службы Кубе-DNS, которая будет использоваться для разрешения DNS & обнаружения службы кластеров. | "10.96.0.10" |

> [!NOTE]
> Есть другая сеть DOCKER (NAT), которая создается по умолчанию при установке стыковочного узла. Не требуется работать с Кубернетес в Windows, так как мы назначаем IP – адресам из подсети кластера.

## <a name="what-you-will-accomplish"></a>Цели

В рамках этого руководства вы выполните следующие действия.

> [!div class="checklist"]
> * Создал [главный узел кубернетес](./creating-a-linux-master.md) .  
> * Выбрано [сетевое решение](./network-topologies.md).  
> * Присоединился к [узлу рабочего процесса Windows](./joining-windows-workers.md) или [рабочему узлу Linux](./joining-linux-workers.md) .  
> * Развернут [образец ресурса кубернетес](./deploying-resources.md).  
> * Рассмотрим [распространенные проблемы и ошибки](./common-problems.md).

## <a name="next-steps"></a>Дальнейшие действия

В этом разделе мы говорили о важных предварительных требованиях & предположения, необходимые для успешного развертывания Кубернетес в Windows. Продолжайте научиться настраивать образец Кубернетес:

>[!div class="nextstepaction"]
>[Создание образца Кубернетес](./creating-a-linux-master.md)